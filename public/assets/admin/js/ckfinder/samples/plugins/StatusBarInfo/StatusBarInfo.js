CKFinder.define(["underscore","backbone","marionette","doT"],function(e,t,a,s){"use strict";return{init:function(e){var n=new t.Model({message:""}),r=new a.ItemView({tagName:"p",template:s.template("{{= it.message }}"),model:n,modelEvents:{change:"render"}});e.on("page:create:Main",function(){e.request("statusBar:create",{name:"MyStatusBar",page:"Main",label:"My Status Bar"}),e.request("statusBar:addRegion",{id:"my-status-bar-region",name:"MyStatusBar"}),e.request("statusBar:showView",{region:"my-status-bar-region",name:"MyStatusBar",view:r}),e.on("files:selected",function(t){var a=t.data.files;if(a.length)1===a.length?n.set("message","Selected: "+e.util.escapeHtml(a.at(0).get("name"))):n.set("message","Selected "+a.length+" files");else{var s=t.finder.request("folder:getActive"),r=t.finder.request("files:getCurrent").length;n.set("message",'Folder "'+e.util.escapeHtml(s.get("name"))+'" contains '+r+" file(s)")}}),e.on("folder:getFiles:after",function(t){var a=t.finder.request("files:getCurrent").length;n.set("message",'Folder "'+e.util.escapeHtml(t.data.folder.get("name"))+'" contains '+a+" file(s)")})}),this.addCss("#my-status-bar-region {padding: 0 1em;font-size:0.8em;font-weight:normal}")}}});
